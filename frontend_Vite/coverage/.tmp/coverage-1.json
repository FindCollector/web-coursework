{"/Users/huyanjie/Documents/fitness_centres/frontend_Vite/src/store/authSlice.js":{"path":"/Users/huyanjie/Documents/fitness_centres/frontend_Vite/src/store/authSlice.js","statementMap":{"0":{"start":{"line":4,"column":22},"end":{"line":8,"column":1}},"1":{"start":{"line":7,"column":2},"end":{"line":7,"column":13}},"2":{"start":{"line":11,"column":20},"end":{"line":17,"column":1}},"3":{"start":{"line":12,"column":2},"end":{"line":16,"column":3}},"4":{"start":{"line":13,"column":4},"end":{"line":13,"column":52}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":16}},"6":{"start":{"line":20,"column":20},"end":{"line":26,"column":1}},"7":{"start":{"line":21,"column":2},"end":{"line":25,"column":3}},"8":{"start":{"line":22,"column":4},"end":{"line":22,"column":52}},"9":{"start":{"line":29,"column":23},"end":{"line":35,"column":1}},"10":{"start":{"line":30,"column":2},"end":{"line":34,"column":3}},"11":{"start":{"line":31,"column":4},"end":{"line":31,"column":48}},"12":{"start":{"line":37,"column":21},"end":{"line":44,"column":1}},"13":{"start":{"line":46,"column":18},"end":{"line":83,"column":2}},"14":{"start":{"line":51,"column":6},"end":{"line":51,"column":27}},"15":{"start":{"line":52,"column":6},"end":{"line":52,"column":25}},"16":{"start":{"line":55,"column":6},"end":{"line":55,"column":41}},"17":{"start":{"line":56,"column":6},"end":{"line":56,"column":47}},"18":{"start":{"line":57,"column":6},"end":{"line":57,"column":58}},"19":{"start":{"line":58,"column":6},"end":{"line":58,"column":35}},"20":{"start":{"line":59,"column":6},"end":{"line":59,"column":28}},"21":{"start":{"line":60,"column":6},"end":{"line":60,"column":25}},"22":{"start":{"line":63,"column":6},"end":{"line":63,"column":49}},"23":{"start":{"line":64,"column":6},"end":{"line":64,"column":55}},"24":{"start":{"line":65,"column":6},"end":{"line":65,"column":66}},"25":{"start":{"line":68,"column":6},"end":{"line":68,"column":28}},"26":{"start":{"line":69,"column":6},"end":{"line":69,"column":35}},"27":{"start":{"line":72,"column":6},"end":{"line":72,"column":25}},"28":{"start":{"line":73,"column":6},"end":{"line":73,"column":28}},"29":{"start":{"line":74,"column":6},"end":{"line":74,"column":28}},"30":{"start":{"line":75,"column":6},"end":{"line":75,"column":36}},"31":{"start":{"line":78,"column":6},"end":{"line":78,"column":30}},"32":{"start":{"line":79,"column":6},"end":{"line":79,"column":33}},"33":{"start":{"line":80,"column":6},"end":{"line":80,"column":33}},"34":{"start":{"line":85,"column":66},"end":{"line":85,"column":83}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":22},"end":{"line":4,"column":23}},"loc":{"start":{"line":4,"column":31},"end":{"line":8,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":20},"end":{"line":11,"column":21}},"loc":{"start":{"line":11,"column":29},"end":{"line":17,"column":1}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":20},"end":{"line":20,"column":21}},"loc":{"start":{"line":20,"column":36},"end":{"line":26,"column":1}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":23},"end":{"line":29,"column":24}},"loc":{"start":{"line":29,"column":32},"end":{"line":35,"column":1}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":50,"column":16},"end":{"line":50,"column":17}},"loc":{"start":{"line":50,"column":27},"end":{"line":53,"column":5}},"line":50},"5":{"name":"(anonymous_5)","decl":{"start":{"line":54,"column":18},"end":{"line":54,"column":19}},"loc":{"start":{"line":54,"column":37},"end":{"line":66,"column":5}},"line":54},"6":{"name":"(anonymous_6)","decl":{"start":{"line":67,"column":18},"end":{"line":67,"column":19}},"loc":{"start":{"line":67,"column":37},"end":{"line":70,"column":5}},"line":67},"7":{"name":"(anonymous_7)","decl":{"start":{"line":71,"column":12},"end":{"line":71,"column":13}},"loc":{"start":{"line":71,"column":23},"end":{"line":81,"column":5}},"line":71}},"branchMap":{"0":{"loc":{"start":{"line":38,"column":9},"end":{"line":38,"column":37}},"type":"binary-expr","locations":[{"start":{"line":38,"column":9},"end":{"line":38,"column":29}},{"start":{"line":38,"column":33},"end":{"line":38,"column":37}}],"line":38},"1":{"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":43}},"type":"binary-expr","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":35}},{"start":{"line":39,"column":39},"end":{"line":39,"column":43}}],"line":39},"2":{"loc":{"start":{"line":40,"column":12},"end":{"line":40,"column":46}},"type":"binary-expr","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":35}},{"start":{"line":40,"column":39},"end":{"line":40,"column":46}}],"line":40},"3":{"loc":{"start":{"line":57,"column":23},"end":{"line":57,"column":57}},"type":"binary-expr","locations":[{"start":{"line":57,"column":23},"end":{"line":57,"column":46}},{"start":{"line":57,"column":50},"end":{"line":57,"column":57}}],"line":57},"4":{"loc":{"start":{"line":65,"column":30},"end":{"line":65,"column":64}},"type":"binary-expr","locations":[{"start":{"line":65,"column":30},"end":{"line":65,"column":53}},{"start":{"line":65,"column":57},"end":{"line":65,"column":64}}],"line":65}},"s":{"0":1,"1":7,"2":1,"3":4,"4":4,"5":0,"6":1,"7":0,"8":0,"9":1,"10":3,"11":3,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1},"f":{"0":7,"1":4,"2":0,"3":3,"4":0,"5":0,"6":0,"7":1},"b":{"0":[1,1],"1":[1,1],"2":[1,1],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["/Users/huyanjie/Documents/fitness_centres/frontend_Vite/src/store/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\n// Get storage key with consistent ID from localStorage\nconst getStorageKey = (key) => {\n  // Check if PAGE_INSTANCE_ID exists and is from localStorage (not newly generated)\n  // Use simple key names without appending instance ID to ensure finding the same key when refreshing the page\n  return key;\n};\n\n// Safe method to get values from localStorage\nconst safeGetItem = (key) => {\n  try {\n    return localStorage.getItem(getStorageKey(key));\n  } catch (error) {\n    return null;\n  }\n};\n\n// Safe method to set values in localStorage\nconst safeSetItem = (key, value) => {\n  try {\n    localStorage.setItem(getStorageKey(key), value);\n  } catch (error) {\n    // Error silently handled\n  }\n};\n\n// Safe method to remove values from localStorage\nconst safeRemoveItem = (key) => {\n  try {\n    localStorage.removeItem(getStorageKey(key));\n  } catch (error) {\n    // Error silently handled\n  }\n};\n\nconst initialState = {\n  token: safeGetItem('token') || null,\n  userType: safeGetItem('userType') || null,\n  userName: safeGetItem('userName') || 'Admin',\n  isAuthenticated: !!safeGetItem('token'),\n  loading: false,\n  error: null\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    loginStart: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    loginSuccess: (state, action) => {\n      state.token = action.payload.token;\n      state.userType = action.payload.userType;\n      state.userName = action.payload.userName || 'Admin';\n      state.isAuthenticated = true;\n      state.loading = false;\n      state.error = null;\n      \n      // Save to localStorage\n      safeSetItem('token', action.payload.token);\n      safeSetItem('userType', action.payload.userType);\n      safeSetItem('userName', action.payload.userName || 'Admin');\n    },\n    loginFailure: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    logout: (state) => {\n      state.token = null;\n      state.userType = null;\n      state.userName = null;\n      state.isAuthenticated = false;\n      \n      // Clear authentication information from localStorage\n      safeRemoveItem('token');\n      safeRemoveItem('userType');\n      safeRemoveItem('userName');\n    }\n  }\n});\n\nexport const { loginStart, loginSuccess, loginFailure, logout } = authSlice.actions;\n\nexport default authSlice.reducer; "],"names":[],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d19dc25775b673df987ff4d582302892bba05fa9"}}